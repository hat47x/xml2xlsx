ADR-009: テストデータのクリーンアップ
=====================================

ステータス
----------

クローズ（実装・テスト完了）

文脈
----

テストデータディレクトリには、以前の実装で使用されていた、または別の実装方法を想定したテストデータファイルが残っていました。現在は各テストケースでインラインテストデータを使用する方式に移行しており、これらのファイルは不要となっていました。

決定
----

すべてのテストデータをテストケース内のインラインデータとして実装し、不要なファイルを削除しました。

1. インラインデータ化したもの

   -  基本的な変換テスト用データ
   -  CDATAテスト用データ
   -  大規模データテスト用データ
   -  シート名制限テスト用データ

2. 削除したファイル

   -  composite_key_config.toml（primary_keys機能廃止）
   -  composite_key_sample.xml（同上）
   -  basic_config.toml（インライン化）
   -  basic_sample.xml（インライン化）
   -  integration_config.toml
   -  long_path_config.toml
   -  long_path_sample.xml
   -  type_mismatch_sample.xml
   -  large_config.toml
   -  large_sample.xml
   -  cdata_config.toml
   -  cdata_sample.xml
   -  generate_large_sample.py

根拠
----

1. メンテナンス性の向上

   -  テストケースとテストデータの一体管理
   -  リポジトリの容量削減
   -  メンテナンスの簡素化

2. テストの明確化

   -  テストケースとデータの直接的な関連付け
   -  テストの意図がより明確に
   -  修正や更新が容易

3. 移行の完了

   -  すべてのテストがインラインデータを使用
   -  ファイルベースのテストデータが不要に

影響
----

1. テストコード

   -  すべてのテストがインラインデータを使用するように修正
   -  テストの実行に影響なし

2. パフォーマンス

   -  大規模データテストは動的生成を使用
   -  メモリ使用の最適化が可能に

実装完了
--------

1. テストデータの移行

   -  ☒ CLIテストのデータをインライン化
   -  ☒ CDATAテストのデータをインライン化
   -  ☒ パフォーマンステストのデータを動的生成化

2. ファイルの削除

   -  ☒ 不要なXMLファイルを削除
   -  ☒ 不要なTOMLファイルを削除
   -  ☒ 不要なスクリプトを削除

3. 検証

   -  ☒ すべてのテストが正常に実行されることを確認（44テスト成功）
   -  ☒ テストカバレッジが維持されていることを確認
   -  ☒ エラーケースが適切に処理されることを確認

注意点
------

1. テストデータのメンテナンス

   -  各テストファイル内でデータを管理
   -  コードレビュー時にデータの妥当性を確認
   -  重複を避けるため、共通データは定数として定義
